<html>
<head>
  <title>Art / Dev - Collaboration 2</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.7/p5.min.js"></script>
  <script>
  var IMAGE_WIDTH = 640;    // Don't change this.
  var IMAGE_HEIGHT = 540;   // Don't change this.

  //=============== DO ALL YOUR WORK HERE =======================

  var noiseVal;
  var noiseScale=0.002;
  var inc = 0;

  function setup() {
    createCanvas(IMAGE_WIDTH, IMAGE_HEIGHT); // don't change this
  }

  function draw() {
    clear();
    var s = second()
    background(255,255,255);
    for (var y = 0; y < IMAGE_HEIGHT; y++) {
      for (var x = 0; x < IMAGE_WIDTH; x++) {
        noiseDetail(8,0.65);
        noiseVal = noise((x * noiseScale) + inc, y * noiseScale) * 95;
        colorMode(HSL);
        var s = color(195,100, threshold(noiseVal, 50));

        set(x, y, s);
      }
    }

    updatePixels();
    inc = inc + 0.01
  }

  function threshold(v, t) {
    if (v < t) {
      return t;
    } else {
      return v;
    }
  }

  // =============== STOP WORKING HERE ==========================

  </script>
  <style>
    body { padding: 0; margin: 5% 0 0; background-color: #666;}
    canvas { margin: 0 auto; display:block; }
  </style>
</head>
<body>
</body>
</html>
